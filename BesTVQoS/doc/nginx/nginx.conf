
user  root;
worker_processes  1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

   	access_log  /common/QoS/BesTVQoS_Debug/BesTVQoS/BesTVQoS/BesTVQoS/logs/access.log  main;
	error_log /common/QoS/BesTVQoS_Debug/BesTVQoS/BesTVQoS/BesTVQoS/logs/error.log warn;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

	upstream django {
		# server unix:///path/to/your/mysite/mysite.sock; # for a file socket
    	server 127.0.0.1:6688; # for a web port socket (we'll use this first)
	}

	server {

    	access_log  /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/logs/access.log  main;
		error_log /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/logs/error.log warn;
    	
		# the port your site will be served on
    	listen      8008;
    	# the domain name it will serve for
    	server_name bestvwatch.chinacloudapp.cn; # substitute your machine's IP address or FQDN
    	charset     utf-8;
	
    	# max upload size
    	client_max_body_size 75M;   # adjust to taste

    	# Django media
    	#location /media  {
    	#    alias /path/to/your/mysite/media;  # your Django project's media files - amend as required
    	#}

    	location /static/ {
        	alias /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/static/;
    	}

		location / {
        	uwsgi_pass  django;
        	include     uwsgi_params; # the uwsgi_params file you installed
   		}

	}

	server {

        access_log  /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/logs/update_access.log  main;
        error_log /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/logs/update_error.log warn;

        # the port your site will be served on
        listen      6699;
        # the domain name it will serve for
        server_name bestvwatch.chinacloudapp.cn; # substitute your machine's IP address or FQDN
        charset     utf-8;

        # max upload size
        client_max_body_size 75M;   # adjust to taste

        # Django media
        #location /media  {
        #    alias /path/to/your/mysite/media;  # your Django project's media files - amend as required
        #}

        location /static/ {
            alias /common/QoS/production/BesTVQoS/BesTVQoS/BesTVQoS/static/;
        }

        location / {
            uwsgi_pass  django;
            include     uwsgi_params; # the uwsgi_params file you installed
        }

    }

    # another virtual host using mix of IP-, name-, and port-based configuration
    #
    #server {
    #    listen       8000;
    #    listen       somename:8080;
    #    server_name  somename  alias  another.alias;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}


    # HTTPS server
    #
    #server {
    #    listen       443;
    #    server_name  localhost;

    #    ssl                  on;
    #    ssl_certificate      cert.pem;
    #    ssl_certificate_key  cert.key;

    #    ssl_session_timeout  5m;

    #    ssl_protocols  SSLv2 SSLv3 TLSv1;
    #    ssl_ciphers  HIGH:!aNULL:!MD5;
    #    ssl_prefer_server_ciphers   on;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}

}
